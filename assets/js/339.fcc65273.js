(window.webpackJsonp=window.webpackJsonp||[]).push([[339],{661:function(t,a,s){"use strict";s.r(a);var e=s(14),r=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"学习-babel"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#学习-babel"}},[t._v("#")]),t._v(" 学习 Babel")]),t._v(" "),a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#用户手册"}},[t._v("用户手册")]),a("ul",[a("li",[a("a",{attrs:{href:"#配置-babel"}},[t._v("配置 Babel")]),a("ul",[a("li",[a("a",{attrs:{href:"#配置文件-https-babeljs-io-docs-config-files"}},[t._v("配置文件")])])])]),a("li",[a("a",{attrs:{href:"#babel-register"}},[t._v("@babel/register")]),a("ul",[a("li",[a("a",{attrs:{href:"#例子-点击查看源码-https-github-com-18355166248-megalo-note-tree-main-packages-babel-src-babel-register-js"}},[t._v("例子( 点击查看源码 )")])])])]),a("li",[a("a",{attrs:{href:"#babel-core"}},[t._v("@babel/core")]),a("ul",[a("li",[a("a",{attrs:{href:"#例子-点击查看源码-https-github-com-18355166248-megalo-note-tree-main-packages-babel-src-babel-core-js"}},[t._v("例子( 点击查看源码 )")])])])]),a("li",[a("a",{attrs:{href:"#babel-preset-env"}},[t._v("@babel/preset-env")])]),a("li",[a("a",{attrs:{href:"#babel-preset-react"}},[t._v("@babel/preset-react")]),a("ul",[a("li",[a("a",{attrs:{href:"#例子-点击查看源码-https-github-com-18355166248-megalo-note-tree-main-packages-babel-src-babel-react-js"}},[t._v("例子( 点击查看源码 )")])])])]),a("li",[a("a",{attrs:{href:"#babel-preset-typescript"}},[t._v("@babel/preset-typescript")]),a("ul",[a("li",[a("a",{attrs:{href:"#例子-点击查看源码-https-github-com-18355166248-megalo-note-tree-main-packages-babel-babelrc-下配置了-babel-preset-typescript"}},[t._v("例子( 点击查看源码 ) 下配置了 @babel/preset-typescript")])])])]),a("li",[a("a",{attrs:{href:"#babel-standalone"}},[t._v("@babel/standalone")]),a("ul",[a("li",[a("a",{attrs:{href:"#例子-html-https-github-com-18355166248-megalo-note-tree-main-packages-babel-html-babel-standlone-html"}},[t._v("例子-html")])])])]),a("li",[a("a",{attrs:{href:"#babel-plugin-transform-runtime"}},[t._v("@babel/plugin-transform-runtime")])]),a("li",[a("a",{attrs:{href:"#babel-runtime"}},[t._v("@babel/runtime")])]),a("li",[a("a",{attrs:{href:"#babel-parser"}},[t._v("@babel/parser")])]),a("li",[a("a",{attrs:{href:"#babel-generator"}},[t._v("@babel/generator")]),a("ul",[a("li",[a("a",{attrs:{href:"#例子-点击查看源码-https-github-com-18355166248-megalo-note-tree-main-packages-babel-src-babel-generator-js"}},[t._v("例子( 点击查看源码 )")])])])]),a("li",[a("a",{attrs:{href:"#babel-code-frame"}},[t._v("@babel/code-frame")])]),a("li",[a("a",{attrs:{href:"#babel-template"}},[t._v("@babel/template")]),a("ul",[a("li",[a("a",{attrs:{href:"#例子-点击查看源码-https-github-com-18355166248-megalo-note-tree-main-packages-babel-src-babel-template-js"}},[t._v("例子( 点击查看源码 )")])])])]),a("li",[a("a",{attrs:{href:"#babel-traverse"}},[t._v("@babel/traverse")])])])])])]),a("p"),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/jamiebuilds/babel-handbook/blob/master/translations/zh-Hans/README.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("Babel 手册"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"用户手册"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#用户手册"}},[t._v("#")]),t._v(" 用户手册")]),t._v(" "),a("h3",{attrs:{id:"配置-babel"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置-babel"}},[t._v("#")]),t._v(" 配置 Babel")]),t._v(" "),a("p",[t._v("你或许已经注意到了，目前为止通过运行 Babel 自己我们并没能“翻译”代码，而仅仅是把代码从一处拷贝到了另一处。")]),t._v(" "),a("p",[t._v("这是因为我们还没告诉 Babel 要做什么。")]),t._v(" "),a("blockquote",[a("p",[t._v("由于 Babel 是一个可以用各种花样去使用的通用编译器，因此默认情况下它反而什么都不做。你必须明确地告诉 Babel 应该要做什么。")])]),t._v(" "),a("p",[t._v("你可以通过安装 "),a("a",{attrs:{href:"https://babeljs.io/docs/plugins",target:"_blank",rel:"noopener noreferrer"}},[t._v("插件（plugins）"),a("OutboundLink")],1),t._v(" 或 "),a("a",{attrs:{href:"https://babeljs.io/docs/presets",target:"_blank",rel:"noopener noreferrer"}},[t._v("预设（presets，也就是一组插件）"),a("OutboundLink")],1),t._v("来指示 Babel 去做什么事情。")]),t._v(" "),a("h4",{attrs:{id:"配置文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置文件"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://babeljs.io/docs/config-files",target:"_blank",rel:"noopener noreferrer"}},[t._v("配置文件"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("看官方文档我们可以知道, 配置 babel 文件的方式有好几种")]),t._v(" "),a("ul",[a("li",[t._v("Project-wide configuration\n+babel.config.* files, with the following extensions: .json, .js, .cjs, .mjs, .cts.")]),t._v(" "),a("li",[t._v("File-relative configuration\n"),a("ul",[a("li",[t._v(".babelrc.* files, with the following extensions: .json, .js, .cjs, .mjs, .cts.")]),t._v(" "),a("li",[t._v(".babelrc file, with no extension.")]),t._v(" "),a("li",[t._v('package.json files, with a "babel" key.')])])])]),t._v(" "),a("p",[t._v("我们这里就以 .babelrc 为例, 首先在项目的根路径下创建 .babelrc 文件")]),t._v(" "),a("p",[t._v("然后在 package.json 中的 scripts 命令中配置")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v(" "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"scripts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"babel-file"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"babel src/Demo -d dist"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[t._v("执行 npm run babel-file 后会在根路径新增 dist 文件夹, 也就是打包结果")]),t._v(" "),a("h3",{attrs:{id:"babel-register"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#babel-register"}},[t._v("#")]),t._v(" @babel/register")]),t._v(" "),a("p",[t._v("Babel 应用: 利用 @babel/register 实现即时编译（在 Node 环境下使用 import/export ES6 语法")]),t._v(" "),a("p",[t._v("但请注意这种方法并不适合正式产品环境使用。 直接部署用此方式编译的代码不是好的做法。 在部署之前预先编译会更好。 不过用在构建脚本或是其他本地运行的脚本中是非常合适的。")]),t._v(" "),a("h4",{attrs:{id:"例子-点击查看源码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#例子-点击查看源码"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://github.com/18355166248/megalo-note/tree/main/packages/Babel/src/babel-register.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("例子( 点击查看源码 )"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("可以看到项目引入了 1.js, 但是 1.js 内部使用了 ES6 import 语法, import 语法是不能再 node 环境直接使用的, 所以直接报错了, 但是在顶部引入了 @babel/register, 并注册了 presets, 这样就可以正常执行了")]),t._v(" "),a("h3",{attrs:{id:"babel-core"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#babel-core"}},[t._v("#")]),t._v(" @babel/core")]),t._v(" "),a("p",[t._v("如果你需要以编程的方式来使用 Babel，可以使用 babel-core 这个包。")]),t._v(" "),a("p",[t._v("工具包有很多方法, 具体可看"),a("a",{attrs:{href:"https://babeljs.io/docs/babel-core#transform",target:"_blank",rel:"noopener noreferrer"}},[t._v("官网文档"),a("OutboundLink")],1),t._v("\n看 API 我们可以大致分为 4 类, 转换字符串代码, 转换文件代码, 通过 ast 转换成代码, 将代码转换成 ast, 每个方法又有三种方法, callback 拿结果, 同步拿结果, promise 拿结果")]),t._v(" "),a("h4",{attrs:{id:"例子-点击查看源码-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#例子-点击查看源码-2"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://github.com/18355166248/megalo-note/tree/main/packages/Babel/src/babel-core.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("例子( 点击查看源码 )"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("看例子可以看到我们通过 @babel/core 可以将代码转化成我们配置的兼容性代码")]),t._v(" "),a("h3",{attrs:{id:"babel-preset-env"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#babel-preset-env"}},[t._v("#")]),t._v(" @babel/preset-env")]),t._v(" "),a("p",[t._v("最重要的一个功能就是提供不同浏览器支持特性的数据来源")]),t._v(" "),a("p",[t._v("这里也有详细的介绍 "),a("a",{attrs:{href:"https://github.com/zloirock/core-js/blob/master/docs/zh_CN/2019-03-19-core-js-3-babel-and-a-look-into-the-future.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("core-js-3-babel"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"babel-preset-react"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#babel-preset-react"}},[t._v("#")]),t._v(" @babel/preset-react")]),t._v(" "),a("p",[t._v("我们可以解析 react 组件")]),t._v(" "),a("h4",{attrs:{id:"例子-点击查看源码-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#例子-点击查看源码-3"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://github.com/18355166248/megalo-note/tree/main/packages/Babel/src/babel-react.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("例子( 点击查看源码 )"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"babel-preset-typescript"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#babel-preset-typescript"}},[t._v("#")]),t._v(" @babel/preset-typescript")]),t._v(" "),a("p",[t._v("我们可以解析 .ts 文件 的 typescript")]),t._v(" "),a("h4",{attrs:{id:"例子-点击查看源码-下配置了-babel-preset-typescript"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#例子-点击查看源码-下配置了-babel-preset-typescript"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://github.com/18355166248/megalo-note/tree/main/packages/Babel/.babelrc",target:"_blank",rel:"noopener noreferrer"}},[t._v("例子( 点击查看源码 )"),a("OutboundLink")],1),t._v(" 下配置了 @babel/preset-typescript")]),t._v(" "),a("h3",{attrs:{id:"babel-standalone"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#babel-standalone"}},[t._v("#")]),t._v(" @babel/standalone")]),t._v(" "),a("p",[t._v("提供了独立构建方式")]),t._v(" "),a("p",[t._v("如果您在生产中使用 Babel，通常不应该使用@Babel/stalone。相反，您应该使用在 Node.js 上运行的构建系统，如 Webpack、Rollup 或 Parcel，提前传输 js。")]),t._v(" "),a("p",[t._v("但是，对于 @babel/standalone 有一些有效的用例：")]),t._v(" "),a("ul",[a("li",[t._v("它提供了一种简单、方便的使用 Babel 原型的方法。使用@babel/stalone，您只需在 HTML 中使用一个简单的脚本标记就可以开始使用 babel。")]),t._v(" "),a("li",[t._v("实时编译用户提供的 JavaScript 的网站，如 JSFiddle、JSBin、Babel 网站上的 REPL、JSitor 等。")]),t._v(" "),a("li",[t._v("直接嵌入 V8 等 JavaScript 引擎并希望使用 Babel 进行编译的应用程序")]),t._v(" "),a("li",[t._v("希望使用 JavaScript 作为脚本语言来扩展应用程序本身的应用程序，包括现代 ES 提供的所有好处。")]),t._v(" "),a("li",[t._v("其他非 Node.js 环境（ReactJS.NET、ruby babel transpiler、php-babel transpiler 等）。")])]),t._v(" "),a("h4",{attrs:{id:"例子-html"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#例子-html"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://github.com/18355166248/megalo-note/tree/main/packages/Babel/html/babel-standlone.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("例子-html"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"babel-plugin-transform-runtime"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#babel-plugin-transform-runtime"}},[t._v("#")]),t._v(" @babel/plugin-transform-runtime")]),t._v(" "),a("p",[t._v("节约打包代码量 用于构建过程的代码转换")]),t._v(" "),a("h3",{attrs:{id:"babel-runtime"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#babel-runtime"}},[t._v("#")]),t._v(" @babel/runtime")]),t._v(" "),a("p",[t._v("节约打包代码量 实际导入项目代码的功能模块")]),t._v(" "),a("p",[t._v("我们可以这么理解, @babel/plugin-transform-runtime 是一个使用工具的人, @babel/runtime 是一个工具, 我们让使用工具的人对代码使用工具")]),t._v(" "),a("p",[t._v("也就是说让 @babel/plugin-transform-runtime 针对代码做转换, 转换后的代码用的就是 @babel/runtime")]),t._v(" "),a("h3",{attrs:{id:"babel-parser"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#babel-parser"}},[t._v("#")]),t._v(" @babel/parser")]),t._v(" "),a("p",[t._v("将代码转成 ast, 可以使用 "),a("a",{attrs:{href:"https://astexplorer.net/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Ast 工具"),a("OutboundLink")],1),t._v(" 做代码分析")]),t._v(" "),a("h3",{attrs:{id:"babel-generator"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#babel-generator"}},[t._v("#")]),t._v(" @babel/generator")]),t._v(" "),a("p",[t._v("将 ast 转成代码")]),t._v(" "),a("h4",{attrs:{id:"例子-点击查看源码-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#例子-点击查看源码-4"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://github.com/18355166248/megalo-note/tree/main/packages/Babel/src/babel-generator.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("例子( 点击查看源码 )"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"babel-code-frame"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#babel-code-frame"}},[t._v("#")]),t._v(" @babel/code-frame")]),t._v(" "),a("p",[t._v("针对代码转成代码块, 可以高亮标记")]),t._v(" "),a("p",[t._v("类似")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" rawLines "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('class Foo {\n  constructor() {\n    console.log("hello");\n  }\n}')]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" location "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("start")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("line")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("column")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("17")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("end")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("line")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("column")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n转成如下\n\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Foo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("                 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("     console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hello"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br")])]),a("h3",{attrs:{id:"babel-template"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#babel-template"}},[t._v("#")]),t._v(" @babel/template")]),t._v(" "),a("p",[t._v("babel 模板功能, 支持动态替换字符串")]),t._v(" "),a("h4",{attrs:{id:"例子-点击查看源码-5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#例子-点击查看源码-5"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://github.com/18355166248/megalo-note/tree/main/packages/Babel/src/babel-template.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("例子( 点击查看源码 )"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"babel-traverse"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#babel-traverse"}},[t._v("#")]),t._v(" @babel/traverse")]),t._v(" "),a("p",[t._v("模块维护整个树状态，并负责替换、删除和添加节点。")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" parser "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@babel/parser"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" traverse "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@babel/traverse"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" code "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("function square(n) {\n  return n * n;\n}")]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" ast "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" parser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("parse")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("code"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 解析 ast")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("traverse")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ast"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("enter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("path")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("node"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("type "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Identifier"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("node"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"n"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("node"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"x"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br")])])])}),[],!1,null,null,null);a.default=r.exports}}]);