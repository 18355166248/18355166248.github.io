(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{306:function(t,s,a){t.exports=a.p+"assets/img/compositing-reasons.0b086cd1.jpeg"},673:function(t,s,a){"use strict";a.r(s);var n=a(14),r=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"css-面试题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#css-面试题"}},[t._v("#")]),t._v(" CSS 面试题")]),t._v(" "),s("p"),s("div",{staticClass:"table-of-contents"},[s("ul",[s("li",[s("a",{attrs:{href:"#transition-和-animation-的区别"}},[t._v("transition 和 animation 的区别")]),s("ul",[s("li",[s("a",{attrs:{href:"#基本概念"}},[t._v("基本概念")])]),s("li",[s("a",{attrs:{href:"#主要区别"}},[t._v("主要区别")])]),s("li",[s("a",{attrs:{href:"#语法对比"}},[t._v("语法对比")])]),s("li",[s("a",{attrs:{href:"#使用场景"}},[t._v("使用场景")])]),s("li",[s("a",{attrs:{href:"#性能考虑"}},[t._v("性能考虑")])])])]),s("li",[s("a",{attrs:{href:"#行内元素和块级元素的区别"}},[t._v("行内元素和块级元素的区别")])]),s("li",[s("a",{attrs:{href:"#怎么实现响应式布局的"}},[t._v("怎么实现响应式布局的")])]),s("li",[s("a",{attrs:{href:"#css-动画-animation-各个时间值含义"}},[t._v("css 动画 animation 各个时间值含义")])]),s("li",[s("a",{attrs:{href:"#有兼容-retina-屏幕的经历吗-如何在移动端实现-1-px-的线"}},[t._v("有兼容 retina 屏幕的经历吗？如何在移动端实现 1 px 的线")]),s("ul",[s("li",[s("a",{attrs:{href:"#viewport-rem-实现"}},[t._v("viewport + rem 实现")])]),s("li",[s("a",{attrs:{href:"#伪类-transform-实现"}},[t._v("伪类 + transform 实现")])])])]),s("li",[s("a",{attrs:{href:"#为什么说用-css-实现动画比-js-动画性能好"}},[t._v("为什么说用 css 实现动画比 js 动画性能好")]),s("ul",[s("li",[s("a",{attrs:{href:"#_1-线程执行环境不同"}},[t._v("1. 线程执行环境不同")])]),s("li",[s("a",{attrs:{href:"#_2-渲染机制差异"}},[t._v("2. 渲染机制差异")])]),s("li",[s("a",{attrs:{href:"#_3-硬件加速优势"}},[t._v("3. 硬件加速优势")])]),s("li",[s("a",{attrs:{href:"#_4-浏览器优化"}},[t._v("4. 浏览器优化")])]),s("li",[s("a",{attrs:{href:"#_5-内存管理"}},[t._v("5. 内存管理")])]),s("li",[s("a",{attrs:{href:"#总结"}},[t._v("总结")])])])]),s("li",[s("a",{attrs:{href:"#什么是-合成层"}},[t._v("什么是 合成层")]),s("ul",[s("li",[s("a",{attrs:{href:"#如何提升为合成层"}},[t._v("如何提升为合成层")])])])]),s("li",[s("a",{attrs:{href:"#隐式合成"}},[t._v("隐式合成")])])])]),s("p"),t._v(" "),s("h2",{attrs:{id:"transition-和-animation-的区别"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#transition-和-animation-的区别"}},[t._v("#")]),t._v(" transition 和 animation 的区别")]),t._v(" "),s("details",{staticClass:"custom-block details"},[s("summary",[t._v("点击查看")]),t._v(" "),s("h3",{attrs:{id:"基本概念"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#基本概念"}},[t._v("#")]),t._v(" 基本概念")]),t._v(" "),s("p",[s("strong",[t._v("Transition（过渡）")]),t._v("：元素从一种状态平滑过渡到另一种状态，需要触发事件（如 hover、focus、click 等）才能开始动画。")]),t._v(" "),s("p",[s("strong",[t._v("Animation（动画）")]),t._v("：可以自动播放，也可以循环播放，通过关键帧（@keyframes）定义动画序列。")]),t._v(" "),s("h3",{attrs:{id:"主要区别"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#主要区别"}},[t._v("#")]),t._v(" 主要区别")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("特性")]),t._v(" "),s("th",[t._v("Transition")]),t._v(" "),s("th",[t._v("Animation")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("strong",[t._v("触发方式")])]),t._v(" "),s("td",[t._v("需要事件触发（hover、focus、click等）")]),t._v(" "),s("td",[t._v("可以自动播放，无需触发事件")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("帧数")])]),t._v(" "),s("td",[t._v("只有起始帧和结束帧（2帧）")]),t._v(" "),s("td",[t._v("可以定义多个关键帧")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("循环")])]),t._v(" "),s("td",[t._v("不能循环播放")]),t._v(" "),s("td",[t._v("可以设置循环次数（infinite）")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("控制")])]),t._v(" "),s("td",[t._v("只能控制开始和结束状态")]),t._v(" "),s("td",[t._v("可以精确控制每一帧的状态")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("复杂度")])]),t._v(" "),s("td",[t._v("适合简单状态变化")]),t._v(" "),s("td",[t._v("适合复杂动画序列")])])])]),t._v(" "),s("h3",{attrs:{id:"语法对比"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#语法对比"}},[t._v("#")]),t._v(" 语法对比")]),t._v(" "),s("p",[s("strong",[t._v("Transition 语法：")])]),t._v(" "),s("div",{staticClass:"language-css line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-css"}},[s("code",[s("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".element")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("transition")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" property duration timing-function delay"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 例如： */")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("transition")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" all 0.3s ease-in-out"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("p",[s("strong",[t._v("Animation 语法：")])]),t._v(" "),s("div",{staticClass:"language-css line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-css"}},[s("code",[s("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".element")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("animation")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" name duration timing-function delay iteration-count direction\n    fill-mode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 例如： */")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("animation")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" slideIn 1s ease-in-out infinite"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token atrule"}},[s("span",{pre:!0,attrs:{class:"token rule"}},[t._v("@keyframes")]),t._v(" slideIn")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("0%")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("transform")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("translateX")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("-100%"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("50%")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("transform")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("translateX")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("100%")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("transform")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("translateX")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("100%"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br")])]),s("h3",{attrs:{id:"使用场景"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用场景"}},[t._v("#")]),t._v(" 使用场景")]),t._v(" "),s("p",[s("strong",[t._v("Transition 适用场景：")])]),t._v(" "),s("ul",[s("li",[t._v("按钮悬停效果")]),t._v(" "),s("li",[t._v("表单输入框聚焦效果")]),t._v(" "),s("li",[t._v("简单的状态切换动画")])]),t._v(" "),s("p",[s("strong",[t._v("Animation 适用场景：")])]),t._v(" "),s("ul",[s("li",[t._v("复杂的动画序列")]),t._v(" "),s("li",[t._v("需要循环播放的动画")]),t._v(" "),s("li",[t._v("加载动画")]),t._v(" "),s("li",[t._v("页面进入/退出动画")])]),t._v(" "),s("h3",{attrs:{id:"性能考虑"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#性能考虑"}},[t._v("#")]),t._v(" 性能考虑")]),t._v(" "),s("ul",[s("li",[t._v("Transition 性能更好，因为只需要计算起始和结束状态")]),t._v(" "),s("li",[t._v("Animation 在复杂动画时可能影响性能，但提供更丰富的动画效果")])])]),t._v(" "),s("h2",{attrs:{id:"行内元素和块级元素的区别"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#行内元素和块级元素的区别"}},[t._v("#")]),t._v(" 行内元素和块级元素的区别")]),t._v(" "),s("details",{staticClass:"custom-block details"},[s("summary",[t._v("点击查看")]),t._v(" "),s("ul",[s("li",[t._v("display: inline; 转换为行内元素")]),t._v(" "),s("li",[t._v("display: block; 转换为块级元素")]),t._v(" "),s("li",[t._v("display: inline-block; 转换为行内块级元素")])]),t._v(" "),s("div",{staticClass:"language-HTML line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("b")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("行内元素, 宽高无效, margin 左右有效, 上下无效 不会进行自动换行"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("b")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("span")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("行内元素, 宽高无效, margin 左右有效, 上下无效 不会进行自动换行"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("span")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("a")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("JavaScript:;"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("a标签 不会进行自动换行"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("a")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("块级元素 识别宽高, margin, padding上下左右均有效 可以自动换行"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("inlineBlock"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("行内块元素 不自动换行 能够识别宽高 默认排列方式从左到右"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br")])])]),t._v(" "),s("h2",{attrs:{id:"怎么实现响应式布局的"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#怎么实现响应式布局的"}},[t._v("#")]),t._v(" 怎么实现响应式布局的")]),t._v(" "),s("details",{staticClass:"custom-block details"},[s("summary",[t._v("点击查看")]),t._v(" "),s("p",[t._v("响应式布局指的是同一页面在不同屏幕尺寸下有不同的布局。传统的开发方式是 PC 端开发一套，手机端再开发一套，而使用响应式布局只要开发一套就够。")]),t._v(" "),s("p",[t._v("方案:")]),t._v(" "),s("ol",[s("li",[t._v("媒体查询 @media screen")]),t._v(" "),s("li",[t._v("rem")]),t._v(" "),s("li",[t._v("vm vh")]),t._v(" "),s("li",[t._v("百分比")]),t._v(" "),s("li",[t._v("flex")])])]),t._v(" "),s("h2",{attrs:{id:"css-动画-animation-各个时间值含义"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#css-动画-animation-各个时间值含义"}},[t._v("#")]),t._v(" css 动画 animation 各个时间值含义")]),t._v(" "),s("details",{staticClass:"custom-block details"},[s("summary",[t._v("点击")]),t._v(" "),s("p",[t._v("1、animation-name ：xx （设置关键帧的名称为 xx）")]),t._v(" "),s("p",[t._v("2、animation-duration：5s （动画持续时间为 5s）")]),t._v(" "),s("p",[t._v("3、animation-timing-function： linear （动画时间曲线 也叫做运行速度为匀速）")]),t._v(" "),s("p",[t._v("取值：")]),t._v(" "),s("p",[t._v("linear 匀速、 ​ ease （默认）低速开始—>加速—>结束前减速 、")]),t._v(" "),s("p",[t._v("ease-in 以低速开始、ease-out 以低速结束、ease-in-out 以低速开始和结束。")]),t._v(" "),s("p",[t._v("cubic-bezier(n,n,n,n) 在 cubic-bezier 函数中自己的值。可能的值是从 0 到 1 的数值。")]),t._v(" "),s("p",[t._v("4、animation-delay:5s (动画等待 5 后开始)")]),t._v(" "),s("p",[t._v("5、animatiom-iteration-count：1 （动画播放次数为 1 次）")]),t._v(" "),s("p",[t._v("取值：xx 数字，定义应该播放 xx 次动画、 infinite-无限次执行")]),t._v(" "),s("p",[t._v("6、animation-direction： alternate（设置动画为反向播放 ）")]),t._v(" "),s("p",[t._v("取值：")]),t._v(" "),s("p",[t._v("nomal（默认）-执行完一次之后回到起点继续执行下一次\nalternate-往返动画，执行完一次之后往回执行下一次")]),t._v(" "),s("p",[t._v("reverse-反向执行")]),t._v(" "),s("p",[t._v("7、animation-fill-mode： （动画结束的最后一帧）")]),t._v(" "),s("p",[t._v("取值：")]),t._v(" "),s("p",[t._v("none-不做任何改变\nforwards-让元素结束状态保持动画最后一帧的样式")]),t._v(" "),s("p",[t._v("backwards-让元素等待状态的时候显示动画第一帧的样式")]),t._v(" "),s("p",[t._v("both-等待状态显示第一帧，结束状态保持最后一帧")]),t._v(" "),s("p",[t._v("8、animation-play-state： （设置动画是否暂停）")]),t._v(" "),s("p",[t._v("取值：running-执行动画 、paused-暂停动画")])]),t._v(" "),s("h2",{attrs:{id:"有兼容-retina-屏幕的经历吗-如何在移动端实现-1-px-的线"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#有兼容-retina-屏幕的经历吗-如何在移动端实现-1-px-的线"}},[t._v("#")]),t._v(" 有兼容 retina 屏幕的经历吗？如何在移动端实现 1 px 的线")]),t._v(" "),s("details",{staticClass:"custom-block details"},[s("summary",[t._v("点击")]),t._v(" "),s("h4",{attrs:{id:"viewport-rem-实现"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#viewport-rem-实现"}},[t._v("#")]),t._v(" viewport + rem 实现")]),t._v(" "),s("p",[t._v("同时通过设置对应 viewport 的 rem 基准值，这种方式就可以像以前一样轻松愉快的写 1px 了。\n在 devicePixelRatio = 2 时，输出 viewport：")]),t._v(" "),s("div",{staticClass:"language-HTML line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("viewport"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("content")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("initial-scale=0.5, maximum-scale=0.5, minimum-scale=0.5, user-scalable=no"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("在 devicePixelRatio = 3 时，输出 viewport：")]),t._v(" "),s("div",{staticClass:"language-HTML line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("viewport"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("content")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("initial-scale=0.3333333333333333, maximum-scale=0.3333333333333333, minimum-scale=0.3333333333333333, user-scalable=no"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("这种兼容方案相对比较完美，适合新的项目，老的项目修改成本过大。\n对于这种方案，可以看看《使用 Flexible 实现手淘 H5 页面的终端适配》\n优点：\n所有场景都能满足 一套代码，可以兼容基本所有布局")]),t._v(" "),s("p",[t._v("缺点：\n老项目修改代价过大，只适用于新项目")]),t._v(" "),s("h4",{attrs:{id:"伪类-transform-实现"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#伪类-transform-实现"}},[t._v("#")]),t._v(" 伪类 + transform 实现")]),t._v(" "),s("p",[t._v("对于老项目，有没有什么办法能兼容 1px 的尴尬问题了，个人认为伪类+transform 是比较完美的方法了。\n原理是把原先元素的 border 去掉，然后利用 :before 或者 :after 重做 border ，并 transform 的 scale 缩小一半，原先的元素相对定位，新做的 border 绝对定位。\n单条 border 样式设置：")]),t._v(" "),s("div",{staticClass:"language-css line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-css"}},[s("code",[s("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".scale-1px")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("position")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" relative"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("border")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" none"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".scale-1px:after")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("content")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("position")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" absolute"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("bottom")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("background")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" #000"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("width")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 100%"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("height")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 1px"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("-webkit-transform")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("scaleY")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("0.5"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("transform")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("scaleY")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("0.5"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("-webkit-transform-origin")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 0 0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("transform-origin")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 0 0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br")])]),s("p",[t._v("四条 border 样式:")]),t._v(" "),s("div",{staticClass:"language-CSS line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-css"}},[s("code",[s("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".scale-1px")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("width")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 100px"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("height")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 100px"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("background-color")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" beige"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("position")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" relative"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("margin-bottom")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 20px"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("border")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" none"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".scale-1px:after")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("content")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("position")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" absolute"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("top")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("left")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("border")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 1px solid #000"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("-webkit-box-sizing")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" border-box"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("box-sizing")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" border-box"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("width")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 200%"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("height")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 200%"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("-webkit-transform")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("scale")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("0.5"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("transform")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("scale")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("0.5"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("-webkit-transform-origin")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" left top"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("transform-origin")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" left top"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br")])]),s("p",[t._v("最好在使用前也判断一下，结合 JS 代码，判断是否 Retina 屏：")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("window"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("devicePixelRatio "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" devicePixelRatio "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelector")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ul"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("className "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"scale-1px"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[t._v("优点：所有场景都能满足 支持圆角(伪类和本体类都需要加 border-radius)")]),t._v(" "),s("p",[t._v("缺点：对于已经使用伪类的元素(例如 clearfix)，可能需要多层嵌套")])]),t._v(" "),s("h2",{attrs:{id:"为什么说用-css-实现动画比-js-动画性能好"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#为什么说用-css-实现动画比-js-动画性能好"}},[t._v("#")]),t._v(" 为什么说用 css 实现动画比 js 动画性能好")]),t._v(" "),s("details",{staticClass:"custom-block details"},[s("summary",[t._v("点击")]),t._v(" "),s("h3",{attrs:{id:"_1-线程执行环境不同"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-线程执行环境不同"}},[t._v("#")]),t._v(" 1. 线程执行环境不同")]),t._v(" "),s("p",[s("strong",[t._v("JS 动画：")])]),t._v(" "),s("ul",[s("li",[t._v("运行在浏览器主线程（Main Thread）上")]),t._v(" "),s("li",[t._v("与页面渲染、JavaScript 执行、事件处理等任务共享线程")]),t._v(" "),s("li",[t._v("容易受到其他任务干扰，导致线程阻塞和丢帧")])]),t._v(" "),s("p",[s("strong",[t._v("CSS 动画：")])]),t._v(" "),s("ul",[s("li",[t._v("运行在合成线程（Compositor Thread）上")]),t._v(" "),s("li",[t._v("独立于主线程，不会阻塞页面渲染和交互")]),t._v(" "),s("li",[t._v("即使主线程繁忙，动画仍能保持流畅")])]),t._v(" "),s("h3",{attrs:{id:"_2-渲染机制差异"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-渲染机制差异"}},[t._v("#")]),t._v(" 2. 渲染机制差异")]),t._v(" "),s("p",[s("strong",[t._v("JS 动画：")])]),t._v(" "),s("ul",[s("li",[t._v("每次修改 DOM 样式属性都会触发回流（Reflow）和重绘（Repaint）")]),t._v(" "),s("li",[t._v("浏览器需要重新计算布局、重新绘制页面")]),t._v(" "),s("li",[t._v("频繁的 DOM 操作导致性能损耗和内存堆积")])]),t._v(" "),s("p",[s("strong",[t._v("CSS 动画：")])]),t._v(" "),s("ul",[s("li",[t._v("在合成层（Compositing Layer）中执行")]),t._v(" "),s("li",[t._v("只涉及 GPU 的纹理合成，不触发回流和重绘")]),t._v(" "),s("li",[t._v("利用硬件加速，性能更优")])]),t._v(" "),s("h3",{attrs:{id:"_3-硬件加速优势"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-硬件加速优势"}},[t._v("#")]),t._v(" 3. 硬件加速优势")]),t._v(" "),s("p",[s("strong",[t._v("JS 动画：")])]),t._v(" "),s("ul",[s("li",[t._v("主要在 CPU 上执行计算")]),t._v(" "),s("li",[t._v("受 CPU 性能限制，复杂动画容易卡顿")])]),t._v(" "),s("p",[s("strong",[t._v("CSS 动画：")])]),t._v(" "),s("ul",[s("li",[t._v("利用 GPU 硬件加速")]),t._v(" "),s("li",[t._v("GPU 专门优化图形处理，性能更强")]),t._v(" "),s("li",[t._v("支持 3D 变换和复杂视觉效果")])]),t._v(" "),s("h3",{attrs:{id:"_4-浏览器优化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-浏览器优化"}},[t._v("#")]),t._v(" 4. 浏览器优化")]),t._v(" "),s("p",[s("strong",[t._v("CSS 动画：")])]),t._v(" "),s("ul",[s("li",[t._v("浏览器可以预知动画属性，提前优化")]),t._v(" "),s("li",[t._v("支持 "),s("code",[t._v("will-change")]),t._v(" 属性，让浏览器提前准备")]),t._v(" "),s("li",[t._v("自动应用硬件加速优化")])]),t._v(" "),s("p",[s("strong",[t._v("JS 动画：")])]),t._v(" "),s("ul",[s("li",[t._v("浏览器无法预知动画变化")]),t._v(" "),s("li",[t._v("需要实时计算和更新，优化空间有限")])]),t._v(" "),s("h3",{attrs:{id:"_5-内存管理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-内存管理"}},[t._v("#")]),t._v(" 5. 内存管理")]),t._v(" "),s("p",[s("strong",[t._v("JS 动画：")])]),t._v(" "),s("ul",[s("li",[t._v("频繁的 DOM 操作导致内存碎片")]),t._v(" "),s("li",[t._v("垃圾回收压力大")])]),t._v(" "),s("p",[s("strong",[t._v("CSS 动画：")])]),t._v(" "),s("ul",[s("li",[t._v("在合成层中处理，内存管理更高效")]),t._v(" "),s("li",[t._v("减少内存碎片和垃圾回收压力")])]),t._v(" "),s("h3",{attrs:{id:"总结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),s("p",[t._v("CSS 动画在性能上优于 JS 动画主要体现在：")]),t._v(" "),s("ul",[s("li",[t._v("线程隔离，不阻塞主线程")]),t._v(" "),s("li",[t._v("硬件加速，GPU 渲染")]),t._v(" "),s("li",[t._v("避免回流重绘，渲染效率高")]),t._v(" "),s("li",[t._v("浏览器优化支持更好")]),t._v(" "),s("li",[t._v("内存管理更高效")])]),t._v(" "),s("p",[t._v("但需要注意，CSS 动画适合简单的属性变化，复杂逻辑仍需要 JS 配合。")])]),t._v(" "),s("h2",{attrs:{id:"什么是-合成层"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#什么是-合成层"}},[t._v("#")]),t._v(" 什么是 合成层")]),t._v(" "),s("details",{staticClass:"custom-block details"},[s("summary",[t._v("点击")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/451219118",target:"_blank",rel:"noopener noreferrer"}},[t._v("浏览器渲染魔法之合成层"),s("OutboundLink")],1)]),t._v(" "),s("h4",{attrs:{id:"如何提升为合成层"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#如何提升为合成层"}},[t._v("#")]),t._v(" 如何提升为合成层")]),t._v(" "),s("ul",[s("li",[t._v("设置 transform: translateZ(0)，注意它必须是 translateZ，因为它使用 GPU 来计算 perspective distortion（透视失真）。perspective 在 3D 设计中是一个重要的属性，有兴趣的同学可以看这份资料了解一下。如果你使用 translateX 或 translateY，元素将会被绘制在普通文档流中 demo。")]),t._v(" "),s("li",[t._v("backface-visibility: hidden 指定当元素背面朝向观察者时是否可见 demo。")]),t._v(" "),s("li",[t._v("will-change 该属性告诉浏览器该元素会有哪些变化，这样浏览器可以提前做好对应的优化准备工作。当该属性的值为 opacity、transform、top、left、bottom、right 时 demo。")]),t._v(" "),s("li",[t._v("video、canvas、iframe 等元素。")])]),t._v(" "),s("h2",{attrs:{id:"隐式合成"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#隐式合成"}},[t._v("#")]),t._v(" 隐式合成")]),t._v(" "),s("p",[t._v("比如说 如果有节点是合成层, 之后的节点 z-index 比合成层高, 会隐式提成成合成层\n我们在浏览器控制台打开 layers 里面选中这个节点可以看到下面的 Details 上面的说明")]),t._v(" "),s("p",[s("img",{attrs:{src:a(306),alt:""}})]),t._v(" "),s("p",[t._v("所以引用 "),s("a",{attrs:{href:"https://www.smashingmagazine.com/2016/12/gpu-animation-doing-it-right/",target:"_blank",rel:"noopener noreferrer"}},[t._v("CSS GPU Animation"),s("OutboundLink")],1),t._v(" 中关于隐式合成的描述那就是：")]),t._v(" "),s("blockquote",[s("p",[t._v("This is called implicit compositing: One or more non-composited elements that should appear above a composited one in the stacking order are promoted to composite layers — i.e. painted to separate images that are then sent to the GPU.\n一个或多个非合成元素应出现在堆叠顺序上的合成元素之上，会被提升为合成层。")])])])])}),[],!1,null,null,null);s.default=r.exports}}]);