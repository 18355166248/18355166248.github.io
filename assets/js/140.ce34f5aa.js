(window.webpackJsonp=window.webpackJsonp||[]).push([[140],{529:function(n,r,e){"use strict";e.r(r);var t=e(45),s=Object(t.a)({},(function(){var n=this,r=n.$createElement,e=n._self._c||r;return e("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[e("h1",{attrs:{id:"foreach"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#foreach"}},[n._v("#")]),n._v(" forEach")]),n._v(" "),e("p",[n._v("function forEach (arr, fn) {\nreturn new Promise(resolve => {\nnext(arr)\nfunction next (arr, i = 0) {\nconst item = arr[i]\nconst res = fn(item)")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[n._v("  if (Object.prototype.toString.call(res) === '[object Promise]') {\n    res.then(r => {\n      arr[i] = r\n\n      if (i === arr.length - 1) {\n        resolve(arr)\n        return\n      }\n\n      next(arr, i + 1)\n    })\n  } else {\n    arr[i] = res\n\n    if (i === arr.length - 1) {\n      resolve(arr)\n      return\n    }\n\n    next(arr, i + 1)\n  }\n}\n")])])]),e("p",[n._v("})\n}")]),n._v(" "),e("p",[n._v("const arr = [1, 2, 3]\nconst p = function Pro (item) {\nreturn item * 3\n// return new Promise(resolve => {\n//   setTimeout(() => {\n//     resolve(item * 2)\n//   }, 1000);\n// })\n}\nforEach(arr, p).then(res => {\nconsole.log(res);\n})")])])}),[],!1,null,null,null);r.default=s.exports}}]);