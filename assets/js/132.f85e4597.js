(window.webpackJsonp=window.webpackJsonp||[]).push([[132],{516:function(t,n,o){"use strict";o.r(n);var e=o(45),r=Object(e.a)({},(function(){var t=this,n=t.$createElement,o=t._self._c||n;return o("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[o("h1",{attrs:{id:"bind-call-apply"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#bind-call-apply"}},[t._v("#")]),t._v(" bind.call.apply")]),t._v(" "),o("p",[t._v("Function.prototype.bind2 = function(context) {\nconst self = this;\nconst args = Array.prototype.slice.call(arguments, 1);")]),t._v(" "),o("p",[t._v("const fn = function() {};")]),t._v(" "),o("p",[t._v("const returnFn = function() {\nconst bindArgs = Array.prototype.slice.call(arguments, 1);")]),t._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",[o("code",[t._v('console.log("this instanceof fn", this instanceof fn);\n\n// 当返回函数作文构造函数的时候, this指向的实例, 结果返回true, 将绑定函数的this指向该实例\n// 可以让实例获得来自绑定函数的值\nreturn self.apply(\n  this instanceof returnFn ? this : context,\n  args.concat(bindArgs)\n);\n')])])]),o("p",[t._v("};")]),t._v(" "),o("p",[t._v("// fn.prototype = this.prototype;\n// returnFn.prototype = new fn();")]),t._v(" "),o("p",[t._v("// returnFn.prototype = this.prototype;\nfn.prototype = Object.create(this.prototype);")]),t._v(" "),o("p",[t._v("return returnFn;\n};")]),t._v(" "),o("p",[t._v("// const obj = { name: 11 };")]),t._v(" "),o("p",[t._v('// function bb() {\n//   console.log(this.name, "log");\n// }')]),t._v(" "),o("p",[t._v("// const bb1 = bb.bind2(obj, 123, 456);")]),t._v(" "),o("p",[t._v("// bb1.prototype.value = 1;")]),t._v(" "),o("p",[t._v("// console.log(bb1.prototype.value);\n// console.log(bb.prototype.value);")]),t._v(" "),o("p",[t._v("Function.prototype.call2 = function(context) {\nvar context = context || window;\ncontext.fn = this;")]),t._v(" "),o("p",[t._v("var args = Array.prototype.slice.call(arguments, 1);")]),t._v(" "),o("p",[t._v('var result = eval("context.fn(" + args + ")");')]),t._v(" "),o("p",[t._v("delete context.fn;")]),t._v(" "),o("p",[t._v("return result;\n};")]),t._v(" "),o("p",[t._v("Function.prototype.apply2 = function(context, args) {\nvar context = context || window;\ncontext.fn = this;")]),t._v(" "),o("p",[t._v('var result = eval("context.fn(" + args + ")");')]),t._v(" "),o("p",[t._v("delete context.fn;")]),t._v(" "),o("p",[t._v("result;\n};")]),t._v(" "),o("p",[t._v("var obj = { name: 11 };")]),t._v(" "),o("p",[t._v('function bb(num) {\nconsole.log(this.name, "log");\nconsole.log(num);\n}')]),t._v(" "),o("p",[t._v("bb.call2(obj, 777777);\nbb.call(obj, 777777);")]),t._v(" "),o("p",[t._v("bb.apply2(obj, [88888]);\nbb.apply(obj, [88888]);")])])}),[],!1,null,null,null);n.default=r.exports}}]);